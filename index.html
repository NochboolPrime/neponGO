<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Изучение японского языка</title>
    <style>
        body {
    font-family: 'Comic Sans MS', 'Arial', sans-serif;
    background: url('images/a01bf2c5564f933dcf1cb2de9945a145.jpg') no-repeat center center fixed;
    background-size: cover;
    margin: 0;
    padding: 20px;
    color: #6264f1;
}

h1 {
    text-align: center;
    color: #ff69b4;
    font-size: 3em;
    margin-bottom: 20px;
    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);
}

.welcome {
    text-align: center;
    margin-top: 20px;
    color: #e4368d;
}

.gif-container {
    text-align: center;
    margin: 20px auto;
}

.card {
    background: rgba(255, 255, 255, 0.9);
    padding: 20px;
    margin: 10px auto;
    border-radius: 5px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    width: 400px; /* Fixed width for larger screens */
}

button {
    background-color: #ff1493;
    color: white;
    border: none;
    padding: 15px;
    border-radius: 10px;
    cursor: pointer;
    font-size: 1.2em;
    margin-top: 10px;
    transition: background-color 0.3s ease;
}

button:hover {
    background-color: #c71585;
}

.result {
    margin-top: 20px;
    font-weight: bold;
    text-align: center; 
    color: #e4368d; /* Измененный цвет для результатов */
}

.hidden {
    display: none; 
}

.results-container {
    display: flex; /* Use flexbox for layout */
    align-items: center; /* Center vertically */
    justify-content: center; /* Center horizontally */
}

.results-container img {
    height: auto; /* Maintain aspect ratio */
    width: 100px; /* Set a fixed width for the GIF */
    max-width: 100%; /* Ensure it doesn't exceed container width */
    margin-left: 20px; /* Space between text and GIF */
}

/* Media query for mobile devices */
@media (max-width: 768px) {
    .card {
        width: 90%; /* Adjust card width for mobile devices */
        margin-top: 10px; /* Add some space above the card */
        padding-left: 10px; /* Add some padding to the left and right */
        padding-right: 10px; 
        box-shadow: none; /* Optional - remove shadow on mobile for simplicity */
        border-radius: 5px; /* Maintain rounded corners */
    }

   .results-container img {
       height: auto; /* Maintain aspect ratio for smaller screens */
       width: 80px; /* Smaller width for mobile devices */
   }

   h1 {
       font-size: 2.5em; /* Smaller title size on mobile devices */
   }

   button {
       font-size: 1em; /* Adjust button size on mobile devices */
       padding: 10px; /* Smaller padding for buttons on mobile */
   }
}



    </style>
</head>
<body>

<h1>テスト (Тест) по японскому языку</h1>

<div class="welcome">
    <h2>Добро пожаловать!</h2>
    <p>Нажмите "Продолжить", чтобы выбрать комплект слов.</p>
</div>

<div class="gif-container">
    <img src="images/hatsune-miku-anime.gif" alt="Hatsune Miku" width="300">
</div>

<button id="continue-btn">Продолжить</button>

<div id="start-screen" class="hidden">
    <h2>Выберите комплект слов:</h2>
    <button id="set1-btn">Комплект 1</button>
    <button id="set2-btn">Комплект 2</button>
</div>

<div id="quiz-container" class="hidden"></div>
<button id="next-btn" class="hidden">次へ (Далее)</button>
<button id="submit-btn" class="hidden">結果を確認する (Проверить ответы)</button>
<button id="back-btn" class="hidden">Назад</button>

<div class="result" id="result-container"></div>

<!-- Фоновая музыка -->
<audio id="background-music" loop autoplay>
    <source src="Sound/keeno - morning haze.mp3" type="audio/mpeg">
    Ваш браузер не поддерживает аудио.
</audio>

<!-- Звуки для эффектов -->
<audio id="hover-sound">
    <source src="Sound/hover-sound.mp3" type="audio/mpeg">
    Ваш браузер не поддерживает аудио.
</audio>
<audio id="click-sound">
    <source src="Sound/click-sound.mp3" type="audio/mpeg">
    Ваш браузер не поддерживает аудио.
</audio>
<audio id="completion-sound">
    <source src="Sound/completion-sound.mp3" type="audio/mpeg">
    Ваш браузер не поддерживает аудио.
</audio>

<button id="music-toggle-btn">Отключить музыку</button>

<script>
    const sets = {
        set1: [
        { japanese: "Конбанва", translation: "Приветствие на вечер" },
            { japanese: "Охай", translation: "Приветствие утром" },
            { japanese: "Данойни ", translation: "Каким образом" },
            { japanese: "Нипон", translation: "Япония" },
            { japanese: "Намае", translation: "Имя" },
            { japanese: "Доу", translation: "Как" },
            { japanese: "Ёкотта", translation: "Хорошо" },
            { japanese: "Кирей", translation: "Чистый" },
            { japanese: "Нини", translation: "Что" },
            { japanese: "Сите", translation: "Свершать, делать" },
            { japanese: "Киёу", translation: "Сегодня" },
            { japanese: "Нэзэ", translation: "Почему" },
            { japanese: "Аригатоу", translation: "Спасибо" },
            { japanese: "Тай", translation: "Должно быть" },
            { japanese: "Ята", translation: "Сделал" },
            { japanese: "Со", translation: "Так" },
            { japanese: "Нипонго", translation: "Японский язык" },
            { japanese: "Кудайсай", translation: "Дайте" },
            { japanese: "Дайёбу", translation:"Все в порядке" },
            { japanese:"Фурусиши", translation:"Старый"},
			{ japanese:"Миёнуи", translation:"Завтра"},
			{ japanese:"Киноу", translation:"Вчера"},
			{ japanese:"Дэсу", translation:"Считать)"},
			{ japanese:"Суру", translation:"Опытный"},
			{ japanese:"Хонто", translation:"Действительно"},
			{ japanese:"Ни", translation:"Что"},
			{ japanese:"Дэкиру", translation:"Смочь)"},
			{ japanese:"Косай", translation:"Небольшой"},
			{ japanese:"Ии", translation:"Хорошо"},
			{ japanese:"Окуии", translation:"Большой"},
			{ japanese:"Сити", translation:"Знать"},
			{ japanese:"Моу", translation:"Уже"},
			{ japanese:"На ноу", translation:"Что"},
			{ japanese:"Дэму",translation:"Смочь"},
			{ japanese:"Ёдо",translation:"Цвет"},
			{ japanese:"Вотсу",translation:"Нет, другой"},
			{ japanese:"Доре",translation:"Который"},
			{ japanese:"Ииу",translation:"Говорящий"},
			{ japanese:"Кудайсай",translation:"Дать)"},
			{ japanese:"Декёру",translation:"Справиться"},
			{ japanese:"Икёу",translation:"Делать"},
			{ japanese:"Ари",translation:"Есть)"},
			{ japanese:"Jikân",translation:"Время)"},
			{ japanese :"Ниру",translation :"Спать"},
			{japanese :"Какатта.",translation :"Попался"}, 
			{japanese :"Боку",translation :"Я"} 
        ],
        set2 : [
          // Ваши слова...
        ]
    };

    let currentWordIndex = 0;
    let selectedSet = [];
    let musicPlaying = true;

    const startScreen = document.getElementById('start-screen');
    const quizContainer = document.getElementById('quiz-container');
    const resultContainer = document.getElementById('result-container');
    const nextButton = document.getElementById('next-btn');
    const submitButton = document.getElementById('submit-btn');
    const backButton = document.getElementById('back-btn');
    
    const music = document.getElementById('background-music');
    
    // Sound effect elements
    const hoverSound = document.getElementById('hover-sound');
    const clickSound = document.getElementById('click-sound');
    const completionSound = document.getElementById('completion-sound');

    function playHoverSound() {
        hoverSound.currentTime = 0; // Reset time to allow replay
        hoverSound.play();
    }

    function playClickSound() {
        clickSound.currentTime = 0; // Reset time to allow replay
        clickSound.play();
    }

    function playCompletionSound() {
        completionSound.currentTime = 0; // Reset time to allow replay
        completionSound.play();
    }

    function showWord() {
        if (currentWordIndex < selectedSet.length) {
           quizContainer.innerHTML = `
                <div class="card">
                    <p>${selectedSet[currentWordIndex].japanese}</p>
                    <input type="text" id="answer" placeholder="Введите перевод">
                </div>
           `;
           nextButton.classList.remove('hidden');
           submitButton.classList.add('hidden');
       } else {
           nextButton.classList.add('hidden');
           submitButton.classList.remove('hidden');
       }
   }

   function startQuiz(set) {
       selectedSet = set;
       currentWordIndex = 0;

       startScreen.classList.add('hidden');
       quizContainer.classList.remove('hidden');
       backButton.classList.remove('hidden'); 
       
       showWord();
   }

   function showStartScreen() {
       startScreen.classList.remove('hidden');
       quizContainer.classList.add('hidden');
       resultContainer.innerHTML = ''; 
       backButton.classList.add('hidden'); 
   }

   document.getElementById('continue-btn').addEventListener('click', () => {
       playClickSound(); // Play click sound
       document.querySelector('.welcome').classList.add('hidden'); 
       document.querySelector('.gif-container').classList.add('hidden'); 
       startScreen.classList.remove('hidden'); 
   });

   document.getElementById('set1-btn').addEventListener('click', () => { 
       playClickSound(); // Play click sound
       startQuiz(sets.set1);
   });
   document.getElementById('set2-btn').addEventListener('click', () => { 
       playClickSound(); // Play click sound
       startQuiz(sets.set2);
   });

   nextButton.addEventListener('click', () => {
       const userAnswer = document.getElementById('answer').value.trim();
       
       if (userAnswer) {
           selectedSet[currentWordIndex].userAnswer = userAnswer; 
           currentWordIndex++;
           showWord();
       } else {
           alert("Пожалуйста, введите перевод перед переходом к следующему слову.");
       }
   });

   submitButton.addEventListener('click', () => {
       let score = 0;
       let feedback = '';

       selectedSet.forEach((word) => {
           if (word.userAnswer === word.translation) {
               score++;
               feedback += `<p style="color: green;">${word.japanese} - Правильно!</p>`;
           } else {
               feedback += `<p style="color:red;">${word.japanese} - Неправильно! Правильный ответ:${word.translation}</p>`;
           }
       });

       resultContainer.innerHTML = `
           <div class="results-container">
               <div>
                   <h2>Результаты:</h2>
                   <p>Ваш счет:${score} из ${selectedSet.length}</p>${feedback}
               </div>
               <img src="images/rikka-takanashi-takanashi-rikka.gif" alt="Rikka Takanashi GIF">
           </div>`;
       
       playCompletionSound(); // Play completion sound when test is finished
       
       backButton.classList.remove('hidden'); 
   });

   backButton.addEventListener('click', showStartScreen); 

   // Music toggle functionality
   document.getElementById('music-toggle-btn').addEventListener('click', () => {
       if (musicPlaying) {
           music.pause();
           musicPlaying = false;
           document.getElementById('music-toggle-btn').textContent = 'Включить музыку';
       } else {
           music.play();
           musicPlaying = true;
           document.getElementById('music-toggle-btn').textContent = 'Отключить музыку';
       }
   });

   // Add event listeners for hover effects on buttons
   const buttons = [document.getElementById('continue-btn'), 
                    document.getElementById('set1-btn'), 
                    document.getElementById('set2-btn'), 
                    nextButton, 
                    submitButton, 
                    backButton];

   buttons.forEach(button => {
       button.addEventListener('mouseover', playHoverSound);
   });
</script>

</body>
</html>
